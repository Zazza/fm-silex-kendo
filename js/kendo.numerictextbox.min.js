/*
* Kendo UI Web v2012.3.1114 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Web commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-web-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3.
* For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
(function(e,t){function n(e,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+e+'" title="'+t+'">'+t+"</span></span>"}function a(n,a){var r,s=a!==t;if(document.selection)if(e(n).is(":visible")&&n.focus(),r=document.selection.createRange(),s)r.move("character",a),r.select();else{var o=n.createTextRange(),i=o.duplicate();o.moveToBookmark(r.getBookmark()),i.setEndPoint("EndToStart",o),a=i.text.length}else n.selectionStart!==t&&(s?(n.focus(),n.setSelectionRange(a,a)):a=n.selectionStart);return a}var r=window.kendo,s=r.keys,o=r.ui,i=o.Widget,u=r._extractFormat,l=r.parseFloat,c=r.support.placeholder,p=r.getCulture,d="change",_="disabled",f="k-input",m="spin",v=".kendoNumericTextBox",g="touchend",x="mouseleave"+v,h="touchstart"+v+" mousedown"+v,w="touchcancel"+v+" "+"touchend"+v+" mouseup"+v+" "+x,k="mouseenter"+v+" "+x,T="k-state-default",b="k-state-focused",y="k-state-hover",C=".",A="k-state-selected",E="k-state-disabled",N=null,R=e.proxy,S={190:".",188:","},O=i.extend({init:function(e,n){var a,s,o,l,c=this,p=n&&n.step!==t;i.fn.init.call(c,e,n),n=c.options,e=c.element.addClass(f).on("keydown"+v,R(c._keydown,c)).on("paste"+v,R(c._paste,c)).on("blur"+v,R(c._focusout,c)).attr("role","spinbutton"),n.placeholder=n.placeholder||e.attr("placeholder"),c._reset(),c._wrapper(),c._arrows(),c._input(),c._text.on(g+v,function(){c._toggleText(!1)}),r.support.mobileOS||c._text.on("focus"+v,R(c._click,c)),a=c.min(e.attr("min")),s=c.max(e.attr("max")),o=c._parse(e.attr("step")),n.min===N&&a!==N&&(n.min=a),n.max===N&&s!==N&&(n.max=s),p||o===N||(n.step=o),e.attr("aria-valuemin",n.min).attr("aria-valuemax",n.max),n.format=u(n.format),l=n.value,c.value(l!==N?l:e.val()),c.enable(!e.is("[disabled]")),r.notify(c)},options:{name:"NumericTextBox",decimals:N,min:N,max:N,value:N,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[d,m],enable:function(e){var t=this,n=t._text.add(t.element),a=t._inputWrapper.off(k),r=t._upArrow.off(h),s=t._downArrow.off(h);t._toggleText(!0),e===!1?(a.removeClass(T).addClass(E),n.attr(_,_)):(a.addClass(T).removeClass(E).on(k,t._toggleHover),n.removeAttr(_),r.on(h,function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(A)}),s.on(h,function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(A)}))},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(v),e._form&&e._form.off("reset",e._resetHandler),i.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var n,a=this;return e===t?a._value:(e=a._parse(e),n=a._adjust(e),e===n&&(a._update(e),a._old=a._value),t)},focus:function(){this._focusin()},_adjust:function(e){var t=this,n=t.options,a=n.min,r=n.max;return e===N?e:(a!==N&&a>e?e=a:r!==N&&e>r&&(e=r),e)},_arrows:function(){var t,a=this,r=a.options,s=r.spinners,o=a.element;t=o.siblings(".k-icon"),t[0]||(t=e(n("n",r.upArrowText)+n("s",r.downArrowText)).insertAfter(o),t.wrapAll('<span class="k-select"/>')),t.on(w,function(){clearTimeout(a._spinning),t.removeClass(A)}),s||(t.toggle(s),a._inputWrapper.addClass("k-expand-padding")),a._upArrow=t.eq(0),a._downArrow=t.eq(1)},_blur:function(){var e=this;e._toggleText(!0),e._change(e.element.val())},_click:function(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n=e.target,r=a(n),s=n.value.substring(0,r),o=t._format(t.options.format),i=o[","],u=RegExp("\\"+i,"g"),l=RegExp("([\\d\\"+i+"]+)(\\"+o[C]+")?(\\d+)?"),c=l.exec(s),p=0;c&&(p=c[0].replace(u,"").length,-1!=s.indexOf("(")&&0>t._value&&p++),t._focusin(),a(t.element[0],p)})},_change:function(e){var t=this;t._update(e),e=t._value,t._old!=e&&(t._old=e,t.trigger(d),t.element.trigger(d))},_culture:function(e){return e||p(this.options.culture)},_focusin:function(){var e=this;e._inputWrapper.addClass(b),e._toggleText(!1),e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(b),e._blur()},_format:function(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var t,n,a=this,r="k-formatted-value",s=a.element.show()[0],o=s.accessKey,i=a.wrapper;n=i.find(C+r),n[0]||(n=e("<input />").insertBefore(s).addClass(r)),t=n[0],t.type="text",t.style.cssText=s.style.cssText,t.tabIndex=s.tabIndex,s.tabIndex=0,s.type="text",n.attr("placeholder",a.options.placeholder),o&&(n.attr("accesskey",o),s.accessKey=""),a._text=n.attr("readonly",!0).addClass(s.className)},_keydown:function(e){var t=this,n=e.keyCode;n==s.DOWN?t._step(-1):n==s.UP?t._step(1):n==s.ENTER&&t._change(t.element.val()),t._prevent(n,e.shiftKey)&&!e.ctrlKey&&e.preventDefault()},_paste:function(e){var t=this,n=e.target,a=n.value;setTimeout(function(){t._parse(n.value)===N&&t._update(a)})},_prevent:function(e,t){var n,r=this,o=r.element[0],i=o.value,u=r.options,l=u.min,c=r._format(u.format),p=c[C],d=u.decimals,_=a(o),f=!0;return d===N&&(d=c.decimals),e>16&&21>e||e>32&&37>e||e>47&&58>e||e>95&&106>e||e==s.INSERT||e==s.DELETE||e==s.LEFT||e==s.RIGHT||e==s.TAB||e==s.BACKSPACE||e==s.ENTER?(f=!1,t&&(n=parseInt(String.fromCharCode(e),10),isNaN(n)||(o.value=i.substring(0,_)+n+i.substring(_),f=!0))):S[e]===p&&d>0&&-1==i.indexOf(p)?f=!1:!(l===N||0>l)||-1!=i.indexOf("-")||189!=e&&109!=e||0!==_?110==e&&d>0&&-1==i.indexOf(p)&&(o.value=i.substring(0,_)+p+i.substring(_)):f=!1,f},_option:function(e,n){var a=this,r=a.options;return n===t?r[e]:(n=a._parse(n),(n||"step"!==e)&&(r[e]=a._parse(n),a.element.attr("aria-value"+e,r[e])),t)},_spin:function(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50)},t),n._step(e)},_step:function(e){var t=this,n=t.element,a=t._parse(n.val())||0;document.activeElement!=n[0]&&t._focusin(),a+=t.options.step*e,t._update(t._adjust(a)),t.trigger(m)},_toggleHover:function(t){e(t.currentTarget).toggleClass(y,"mouseenter"===t.type)},_toggleText:function(e){var t=this;t._text.toggle(e),t.element.toggle(!e)},_parse:function(e,t){return l(e,this._culture(t),this.options.format)},_update:function(e){var t,n=this,a=n.options,s=a.format,o=a.decimals,i=n._culture(),u=n._format(s,i);o===N&&(o=u.decimals),e=n._parse(e,i),t=e!==N,t&&(e=parseFloat(e.toFixed(o))),n._value=e=n._adjust(e),n._placeholder(r.toString(e,s,i)),n.element.val(t?(""+e).replace(C,u[C]):"").attr("aria-valuenow",e)},_placeholder:function(e){this._text.val(e),c||e||this._text.val(this.options.placeholder)},_wrapper:function(){var t,n=this,a=n.element,r=a[0];t=a.parents(".k-numerictextbox"),t.is("span.k-numerictextbox")||(t=a.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent()),t[0].style.cssText=r.style.cssText,r.style.width="",n.wrapper=t.addClass("k-widget k-numerictextbox").addClass(r.className).css("display",""),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var e=this,t=e.element,n=t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(t[0].value)})},e._form=n.on("reset",e._resetHandler))}});o.plugin(O)})(window.kendo.jQuery);