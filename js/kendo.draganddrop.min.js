/*
* Kendo UI Web v2012.3.1114 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Web commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-web-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3.
* For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
(function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(r){return!1}}function r(e){return S?f.elementFromPoint(e.x.screen,e.y.screen):f.elementFromPoint(e.x.client,e.y.client)}function i(e,t){return parseInt(e.css(t),10)||0}function a(e,t){return Math.min(Math.max(e,t.min),t.max)}function o(e,t){var n=e.offset(),r=n.left+i(e,"borderLeftWidth")+i(e,"paddingLeft"),a=n.top+i(e,"borderTopWidth")+i(e,"paddingTop"),o=r+e.width()-t.outerWidth(!0),s=a+e.height()-t.outerHeight(!0);return{x:{min:r,max:o},y:{min:a,max:s}}}function s(e,n,r){for(var i,a,o=0,s=n&&n.length,c=r&&r.length;e&&e.parentNode;){for(o=0;s>o;o++)if(i=n[o],i.element[0]===e)return{target:i,targetElement:e};for(o=0;c>o;o++)if(a=r[o],d.matchesSelector.call(e,a.options.filter))return{target:a,targetElement:e};e=e.parentNode}return t}var c,l,u=window.kendo,d=u.support,f=window.document,g=u.Class,h=u.ui.Widget,p=u.Observable,v=u.UserEvents,m=e.proxy,x=e.extend,y=u.getOffset,_={},b={},T={},E=d.mobileOS,w=E&&E.android,S=w&&"chrome"==E.browser,M="keyup",z="change",D="dragstart",O="drag",C="dragend",k="dragcancel",W="dragenter",H="dragleave",P="drop",A=p.extend({init:function(t,n){var r=this,i=t[0];r.capture=!1,e.each(u.eventMap.down.split(" "),function(){i.addEventListener(this,m(r._press,r),!0)}),e.each(u.eventMap.up.split(" "),function(){i.addEventListener(this,m(r._release,r),!0)}),p.fn.init.call(r),r.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),L=p.extend({init:function(t){var n=this;p.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.max=0,n.horizontal?(n.measure="width",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="height",n.scrollSize="scrollHeight",n.axis="y")},outOfBounds:function(e){return e>this.max||this.min>e},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[this.measure]()},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.getTotal(),r=n*t.scale,i=t.getSize();t.size=i,t.total=r,t.min=Math.min(t.max,t.size-r),t.minScale=t.size/n,t.enabled=t.forcedEnabled||r>i,e||t.trigger(z,t)}}),F=p.extend({init:function(e){var t=this,n=m(t.refresh,t);p.fn.init.call(t),t.x=new L(x({horizontal:!0},e)),t.y=new L(x({horizontal:!1},e)),t.forcedMinScale=e.minScale,t.bind(z,e),u.onResize(n)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.max(e.x.minScale,e.y.minScale),e.trigger(z)}}),N=p.extend({init:function(e){var t=this;x(t,e),p.fn.init.call(t)},dragMove:function(e){var t=this,n=t.dimension,r=t.axis,i=t.movable,a=i[r]+e;n.enabled&&((n.min>a&&0>e||a>n.max&&e>0)&&(e*=t.resistance),i.translateAxis(r,e),t.trigger(z,t))}}),B=g.extend({init:function(e){var t,n,r,i,a=this;x(a,{elastic:!0},e),r=a.elastic?.5:0,i=a.movable,a.x=t=new N({axis:"x",dimension:a.dimensions.x,resistance:r,movable:i}),a.y=n=new N({axis:"y",dimension:a.dimensions.y,resistance:r,movable:i}),a.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){a.gesture=e},gesturechange:function(e){var r,o=a.gesture,s=o.center,c=e.center,l=e.distance/o.distance,u=a.dimensions.minScale;u>=i.scale&&1>l&&(l+=.8*(1-l)),r={x:(i.x-s.x)*l+c.x-i.x,y:(i.y-s.y)*l+c.y-i.y},i.scaleWith(l),t.dragMove(r.x),n.dragMove(r.y),a.dimensions.rescale(i.scale),a.gesture=e},move:function(e){t.dimension.enabled||n.dimension.enabled?(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault()):e.touch.skip()},end:function(e){e.preventDefault()}})}}),G=d.transitions.prefix+"Transform",I=Math.round;l=d.hasHW3D?function(e,t,n){return"translate3d("+I(e)+"px,"+I(t)+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+I(e)+"px,"+I(t)+"px) scale("+n+")"};var j=p.extend({init:function(t){var n=this;p.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(l(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){x(this,e),this.refresh()},refresh:function(){var e=this,t=l(e.x,e.y,e.scale);t!=e.coordinates&&(e.element[0].style[G]=t,e._saveCoordinates(t),e.trigger(z))},_saveCoordinates:function(e){this.coordinates=e}}),Q=h.extend({init:function(e,t){var n=this;h.fn.init.call(n,e,t);var r=n.options.group;r in b?b[r].push(n):b[r]=[n]},events:[W,H,P],options:{name:"DropTarget",group:"default"},destroy:function(){var e,t=this.options.group,n=b[t];if(n.length>1){for(h.fn.destroy.call(this),e=0;n.length>e;e++)if(n[e]==this){n.splice(e,1);break}}else Q.destroyGroup(t)},_trigger:function(e,n){var r=this,i=_[r.options.group];return i?r.trigger(e,x({},n.event,{draggable:i,dropTarget:n.dropTarget})):t},_over:function(e){this._trigger(W,e)},_out:function(e){this._trigger(H,e)},_drop:function(e){var t=this,n=_[t.options.group];n&&(n.dropped=!t._trigger(P,e))}});Q.destroyGroup=function(e){var t,n=b[e];if(n){for(t=0;n.length>t;t++)h.fn.destroy.call(n[t]);n.length=0,delete b[e]}},Q._cache=b;var R=Q.extend({init:function(e,t){var n=this;h.fn.init.call(n,e,t);var r=n.options.group;r in T?T[r].push(n):T[r]=[n]},options:{name:"DropTargetArea",group:"default",filter:null}}),U=h.extend({init:function(e,t){var n=this;h.fn.init.call(n,e,t),n.userEvents=new v(n.element,{global:!0,stopPropagation:!0,filter:n.options.filter,threshold:n.options.distance,start:m(n._start,n),move:m(n._drag,n),end:m(n._end,n),cancel:m(n._cancel,n)}),n._afterEndHandler=m(n._afterEnd,n),n.captureEscape=function(e){e.keyCode===u.keys.ESC&&(n._trigger(k,{event:e}),n.userEvents.cancel())}},events:[D,O,C,k],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(t){var n,r=this,i=r.options,o=r.boundaries,s=i.axis,c=r.options.cursorOffset;c?n={left:t.x.location+c.left,top:t.y.location+c.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,n=e.extend({},r.hintOffset)),o&&(n.top=a(n.top,o.y),n.left=a(n.left,o.x)),"x"===s?delete n.top:"y"===s&&delete n.left,r.hint.css(n)},_start:function(t){var n=this,r=n.options,i=r.container,a=r.hint;if(n.currentTarget=t.target,n.currentTargetOffset=y(n.currentTarget),a){n.hint=e.isFunction(a)?e(a(n.currentTarget)):a;var s=y(n.currentTarget);n.hintOffset=s,n.hint.css({position:"absolute",zIndex:2e4,left:s.left,top:s.top}).appendTo(f.body)}_[r.group]=n,n.dropped=!1,i&&(n.boundaries=o(i,n.hint)),n._trigger(D,t)&&(n.userEvents.cancel(),n._afterEnd()),e(f).on(M,n.captureEscape)},_drag:function(n){var r=this;n.preventDefault(),r._withDropTarget(n,function(r,i){if(!r)return c&&(c._trigger(H,x(n,{dropTarget:e(c.targetElement)})),c=null),t;if(c){if(i===c.targetElement)return;c._trigger(H,x(n,{dropTarget:e(c.targetElement)}))}r._trigger(W,x(n,{dropTarget:e(i)})),c=x(r,{targetElement:i})}),r._trigger(O,n),r.hint&&r._updateHint(n)},_end:function(t){var n=this;n._withDropTarget(t,function(n,r){n&&(n._drop(x({},t,{dropTarget:e(r)})),c=null)}),n._trigger(C,t),n._cancel(t.event)},_cancel:function(){var e=this;e.hint&&!e.dropped?e.hint.animate(e.currentTargetOffset,"fast",e._afterEndHandler):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,x({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,dropTarget:t.dropTarget}))},_withDropTarget:function(e,t){var i,a,o=this,c=o.options,l=b[c.group],u=T[c.group];(l&&l.length||u&&u.length)&&(i=r(e),o.hint&&n(o.hint[0],i)&&(o.hint.hide(),i=r(e),i||(i=r(e)),o.hint.show()),a=s(i,l,u),a?t(a.target,a.targetElement):t())},destroy:function(){var e=this;h.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy()},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete _[t.options.group],t.trigger("destroy"),e(f).off(M,t.captureEscape)}});u.ui.plugin(Q),u.ui.plugin(R),u.ui.plugin(U),u.TapCapture=A,u.containerBoundaries=o,x(u.ui,{Pane:B,PaneDimensions:F,Movable:j})})(window.kendo.jQuery);