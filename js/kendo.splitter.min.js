/*
* Kendo UI Web v2012.3.1114 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Web commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-web-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3.
* For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
(function(e,t){function i(e){return u.test(e)}function n(e){return h.test(e)}function r(e){return!i(e)&&!n(e)}function s(t,i){return function(n,r){var s=e(n).data(w);if(1==arguments.length)return s[t];if(s[t]=r,i){var a=this.element.data("kendoSplitter");a.trigger(_)}}}function a(e){var t=this,i=e.orientation;t.owner=e,t._element=e.element,t.orientation=i,c(t,i===y?E:A),t._resizable=new o.ui.Resizable(e.element,{orientation:i,handle:".k-splitbar-draggable-"+i+"[data-marker="+e._marker+"]",hint:d(t._createHint,t),start:d(t._start,t),max:d(t._max,t),min:d(t._min,t),invalidClass:"k-restricted-size-"+i,resizeend:d(t._stop,t)})}var o=window.kendo,l=o.ui,p=o.keys,c=e.extend,d=e.proxy,g=l.Widget,h=/^\d+(\.\d+)?px$/i,u=/^\d+(\.\d+)?%$/i,f=".kendoSplitter",k="expand",v="collapse",m="contentLoad",_="resize",z="layoutChange",y="horizontal",b="vertical",x="mouseenter",P="click",w="pane",C="mouseleave",S="k-state-focused",H="k-"+w,T="."+H,D=g.extend({init:function(t,i){var n,r=this;g.fn.init.call(r,t,i),r.wrapper=r.element,n=r.options.orientation.toLowerCase()!=b,r.orientation=n?y:b,r._dimension=n?"width":"height",r._keys={decrease:n?p.LEFT:p.UP,increase:n?p.RIGHT:p.DOWN},r._resizeStep=10,r.bind(_,d(r._resize,r)),r._marker=o.guid().substring(0,8),r._initPanes(),r._resizeHandler=function(){r.trigger(_)},r._attachEvents(),e(window).on("resize",r._resizeHandler),r.resizing=new a(r),r.element.triggerHandler("init.kendoSplitter")},events:[k,v,m,_,z],_attachEvents:function(){var t=this,i=t.options.orientation,n=".k-splitbar-"+i,r=".k-splitbar-draggable-"+i,s=".k-splitbar .k-icon:not(.k-resize-handle)";t.element.on("keydown"+f,n,"_keydown").on("mousedown"+f,n,function(e){e.currentTarget.focus()}).on("focus"+f,n,function(t){e(t.currentTarget).addClass(S)}).on("blur"+f,n,function(i){e(i.currentTarget).removeClass(S),t.resizing.end()}).on(x+f,r,function(){e(this).addClass("k-splitbar-"+t.orientation+"-hover")}).on(C+f,r,function(){e(this).removeClass("k-splitbar-"+t.orientation+"-hover")}).on("mousedown"+f,r,function(){t.resizing.end(),t._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+f,r,function(){t._panes().children(".k-splitter-overlay").remove()}).on(x+f,s,function(){e(this).addClass("k-state-hover")}).on(C+f,s,function(){e(this).removeClass("k-state-hover")}).on(P+f,".k-splitbar .k-collapse-next, .k-splitbar .k-collapse-prev",t._arrowClick(v)).on(P+f,".k-splitbar .k-expand-next, .k-splitbar .k-expand-prev",t._arrowClick(k)).on("dblclick"+f,".k-splitbar",d(t._togglePane,t)).parent().closest(".k-splitter").each(function(){var i=e(this),n=i.data("kendoSplitter");n?n.bind(_,t._resizeHandler):i.one("init"+f,function(){e(this).data("kendoSplitter").bind(_,t._resizeHandler),t._resizeHandler()})})},options:{name:"Splitter",orientation:y},destroy:function(){var t=this;g.fn.destroy.call(t),t.element.off(f),t.resizing.destroy(),e(window).off("resize",t._resizeHandler),o.destroy(t.element)},_keydown:function(t){var i,n=this,r=t.keyCode,s=n.resizing,a=e(t.currentTarget),o=n._keys,l=r===o.increase,c=r===o.decrease;l||c?(t.ctrlKey?(i=a[c?"next":"prev"](),s.isResizing()&&s.end(),i[n._dimension]()?n._triggerAction(v,a[c?"prev":"next"]()):n._triggerAction(k,i)):s.move((c?-1:1)*n._resizeStep,a),t.preventDefault()):r===p.ENTER&&(s.end(),t.preventDefault())},_initPanes:function(){var t=this,i=t.options.panes||[];t.element.addClass("k-widget").addClass("k-splitter").children().each(function(n,r){var s=i&&i[n];r=e(r).attr("role","group").addClass(H),r.data(w,s?s:{}).toggleClass("k-scrollable",s?s.scrollable!==!1:!0),t.ajaxRequest(r)}).end(),t.trigger(_)},ajaxRequest:function(t,i,n){t=e(t);var r=this,s=t.data(w);i=i||s.contentUrl,i&&(t.append("<span class='k-icon k-loading k-pane-loading' />"),o.isLocalUrl(i)?jQuery.ajax({url:i,data:n||{},type:"GET",dataType:"html",success:function(e){t.html(e),r.trigger(m,{pane:t[0]})}}):t.removeClass("k-scrollable").html("<iframe src='"+i+"' frameborder='0' class='k-content-frame'>"+"This page requires frames in order to show content"+"</iframe>"))},_triggerAction:function(e,t){this.trigger(e,{pane:t[0]})||this[e](t[0])},_togglePane:function(t){var i,n=this,r=e(t.target);r.closest(".k-splitter")[0]==n.element[0]&&(i=r.children(".k-icon:not(.k-resize-handle)"),1===i.length&&(i.is(".k-collapse-prev")?n._triggerAction(v,r.prev()):i.is(".k-collapse-next")?n._triggerAction(v,r.next()):i.is(".k-expand-prev")?n._triggerAction(k,r.prev()):i.is(".k-expand-next")&&n._triggerAction(k,r.next())))},_arrowClick:function(t){var i=this;return function(n){var r,s=e(n.target);s.closest(".k-splitter")[0]==i.element[0]&&(r=s.is(".k-"+t+"-prev")?s.parent().prev():s.parent().next(),i._triggerAction(t,r))}},_updateSplitBar:function(e,t,i){var n=function(e,t){return t?"<div class='k-icon "+e+"' />":""},r=this.orientation,s=t.resizable!==!1&&i.resizable!==!1,a=t.collapsible,o=t.collapsed,l=i.collapsible,p=i.collapsed;e.addClass("k-splitbar k-state-default k-splitbar-"+r).attr("role","separator").attr("aria-expanded",!(o||p)).removeClass("k-splitbar-"+r+"-hover").toggleClass("k-splitbar-draggable-"+r,s&&!o&&!p).toggleClass("k-splitbar-static-"+r,!s&&!a&&!l).html(n("k-collapse-prev",a&&!o&&!p)+n("k-expand-prev",a&&o&&!p)+n("k-resize-handle",s)+n("k-collapse-next",l&&!p&&!o)+n("k-expand-next",l&&p&&!o))},_updateSplitBars:function(){var t=this;this.element.children(".k-splitbar").each(function(){var i=e(this),n=i.prev(T).data(w),r=i.next(T).data(w);r&&t._updateSplitBar(i,n,r)})},_panes:function(){return this.element.children(T)},_resize:function(){var n=this,s=n.element,a=s.children(":not(.k-splitbar)"),o=n.orientation==y,l=s.children(".k-splitbar"),p=l.length,c=o?"width":"height",d=s[c]();0===p?(p=a.length-1,a.slice(0,p).after("<div tabindex='0' class='k-splitbar' data-marker='"+n._marker+"' />"),n._updateSplitBars(),l=s.children(".k-splitbar")):n._updateSplitBars(),l.each(function(){d-=this[o?"offsetWidth":"offsetHeight"]});var g=0,h=0,u=e();a.css({position:"absolute",top:0})[c](function(){var n,s=e(this).data(w)||{};if(s.collapsed)n=0,e(this).css("overflow","hidden");else{if(r(s.size))return u=u.add(this),t;n=parseInt(s.size,10),i(s.size)&&(n=Math.floor(n*d/100))}return h++,g+=n,n}),d-=g;var f=u.length,k=Math.floor(d/f);u.slice(0,f-1).css(c,k).end().eq(f-1).css(c,d-(f-1)*k);var v=0,m=o?"height":"width",_=o?"left":"top",b=o?"offsetWidth":"offsetHeight";if(0===f){var x=a.filter(function(){return!(e(this).data(w)||{}).collapsed}).last();x[c](d+x[0][b])}s.children().css(m,s[m]()).each(function(e,t){t.style[_]=Math.floor(v)+"px",v+=t[b]}),n.trigger(z)},toggle:function(i,n){var r;i=e(i),r=i.data(w),(n||r.collapsible)&&(1==arguments.length&&(n=r.collapsed===t?!1:r.collapsed),r.collapsed=!n,r.collapsed?i.css("overflow","hidden"):i.css("overflow",""),this.trigger(_),this.resizing.destroy(),this.resizing=new a(this))},collapse:function(e){this.toggle(e,!1)},expand:function(e){this.toggle(e,!0)},size:s("size",!0),min:s("min"),max:s("max")});l.plugin(D);var A={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},E={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};a.prototype={press:function(e){this._resizable.press(e)},move:function(e,t){this._resizable.target||this._resizable.press(t),this._resizable.move(e)},end:function(){this._resizable.end()},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(t){var i=this;return e("<div class='k-ghost-splitbar k-ghost-splitbar-"+i.orientation+" k-state-default' />").css(i.alternateSizingProperty,t[i.alternateSizingProperty]())},_start:function(t){var i=this,r=e(t.currentTarget),s=r.prev(),a=r.next(),o=s.data(w),l=a.data(w),p=parseInt(s[0].style[i.positioningProperty],10),c=parseInt(a[0].style[i.positioningProperty],10)+a[0][i.sizingDomProperty]-r[0][i.sizingDomProperty],d=i._element.css(i.sizingProperty),g=function(e){var t=parseInt(e,10);return(n(e)?t:d*t/100)||0},h=g(o.min),u=g(o.max)||c-p,f=g(l.min),k=g(l.max)||c-p;i.previousPane=s,i.nextPane=a,i._maxPosition=Math.min(c-f,p+u),i._minPosition=Math.max(p+h,c-k)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(t){var i=this,n=e(t.currentTarget),s=i.owner;if(s._panes().children(".k-splitter-overlay").remove(),t.keyCode!==o.keys.ESC){var a=t.position,l=n.prev(),p=n.next(),c=l.data(w),d=p.data(w),g=a-parseInt(l[0].style[i.positioningProperty],10),h=parseInt(p[0].style[i.positioningProperty],10)+p[0][i.sizingDomProperty]-a-n[0][i.sizingDomProperty],u=i._element.children(T).filter(function(){return r(e(this).data(w).size)}).length;(!r(c.size)||u>1)&&(r(c.size)&&u--,c.size=g+"px"),(!r(d.size)||u>1)&&(d.size=h+"px"),s.trigger(_)}return setTimeout(function(){i.press(n)}),!1}}})(window.kendo.jQuery);