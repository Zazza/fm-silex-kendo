/*
* Kendo UI Web v2012.3.1114 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Web commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-web-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3.
* For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
(function(e,t){var r=window.kendo,n=e.isArray,a=e.isPlainObject,i=e.map,d=e.each,l=e.extend,o=r.getter,f=r.Class,u=f.extend({init:function(e){var t=this,o=e.total,f=e.model,u=e.data;if(f){if(a(f)){f.fields&&d(f.fields,function(e,r){r=a(r)&&r.field?l(r,{field:t.getter(r.field)}):{field:t.getter(r)},f.fields[e]=r});var s=f.id;if(s){var p={};p[t.xpathToMember(s,!0)]={field:t.getter(s)},f.fields=l(p,f.fields),f.id=t.xpathToMember(s)}f=r.data.Model.define(f)}t.model=f}o&&(o=t.getter(o),t.total=function(e){return parseInt(o(e),10)}),u&&(u=t.xpathToMember(u),t.data=function(e){var r,a=t.evaluate(e,u);return a=n(a)?a:[a],t.model&&f.fields?(r=new t.model,i(a,function(e){if(e){var t,n={};for(t in f.fields)n[t]=r._parse(t,f.fields[t].field(e));return n}})):a})},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},parseDOM:function(e){var r,a,i,d,l,o,f,u={},s=e.attributes,p=s.length;for(f=0;p>f;f++)o=s[f],u["@"+o.nodeName]=o.nodeValue;for(a=e.firstChild;a;a=a.nextSibling)i=a.nodeType,3===i||4===i?u["#text"]=a.nodeValue:1===i&&(r=this.parseDOM(a),d=a.nodeName,l=u[d],n(l)?l.push(r):l=l!==t?[l,r]:r,u[d]=l);return u},evaluate:function(e,t){for(var r,a,i,d,l,o=t.split(".");r=o.shift();)if(e=e[r],n(e)){for(a=[],t=o.join("."),l=0,i=e.length;i>l;l++)d=this.evaluate(e[l],t),d=n(d)?d:[d],a.push.apply(a,d);return a}return e},parse:function(t){var r,n,a={};return r=t.documentElement||e.parseXML(t).documentElement,n=this.parseDOM(r),a[r.nodeName]=n,a},xpathToMember:function(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,"."),e.indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e):""},getter:function(e){return o(this.xpathToMember(e),!0)}});e.extend(!0,r.data,{XmlDataReader:u,readers:{xml:u}})})(window.kendo.jQuery);