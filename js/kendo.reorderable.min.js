/*
* Kendo UI Web v2012.3.1114 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Web commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-web-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3.
* For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
(function(e){function r(r,d){r=e(r),d?r.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):r.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var d=window.kendo,a=d.ui.Widget,n="change",i="k-reorderable",o=a.extend({init:function(o,t){var g,l=this,s=d.guid()+"-reorderable";a.fn.init.call(l,o,t),o=l.element.addClass(i),t=l.options,l.draggable=g=t.draggable||new d.ui.Draggable(o,{group:s,filter:t.filter,hint:t.hint}),l.reorderDropCue=e('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),o.find(g.options.filter).kendoDropTarget({group:g.options.group,dragenter:function(e){if(l._draggable){var d=this.element,a=d[0]===l._draggable[0];r(e.draggable.hint,a),a||l.reorderDropCue.css({height:d.outerHeight(),top:o.offset().top,left:d.offset().left+(d.index()>l._draggable.index()?d.outerWidth():0)}).appendTo(document.body)}},dragleave:function(e){r(e.draggable.hint,!0),l.reorderDropCue.remove()},drop:function(){if(l._draggable){var e,r=l._draggable[0],d=this.element[0];r!==d&&(e=o.find(g.options.filter),l.trigger(n,{element:l._draggable,oldIndex:e.index(r),newIndex:e.index(d)}))}}}),g.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){l.reorderDropCue.remove(),l._draggable=null},dragend:function(){l.reorderDropCue.remove(),l._draggable=null},dragstart:function(e){l._draggable=e.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[n],destroy:function(){var e=this;a.fn.destroy.call(e),e.draggable&&e.draggable.destroy(),d.destroy(e.element)}});d.ui.plugin(o)})(window.kendo.jQuery);